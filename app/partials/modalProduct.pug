.body(flex='100' layout='column' layout-fill)
	
	div(layout="row")
		md-input-container(flex="80")
			label Nome ou Classificação
			input#focus(ng-model="ctrl.filter.name" keys-shortcuts enter="ctrl.search()")
		
		md-input-container
			md-switch(ng-model='ctrl.filter.active' style="margin:0;")
				| Somente Ativos

		md-button.md-primary.md-raised(ng-click='ctrl.search()' flex="15" style="margin-right:0;")
			| Buscar

	div(flex layout='column' style='margin-top: 20px')
		.product-table-header-container
			table.product-table.table
				thead
					tr
						th(ng-click="ctrl.sortBy('product_code')")
							| CÓDIGO &nbsp;
							i.fa(ng-show="ctrl.grid.propertyName === 'product_code'" ng-class="!ctrl.grid.reverse ? 'fa-sort-amount-asc' : 'fa-sort-amount-desc'")
						th(ng-click="ctrl.sortBy('product_classification')")
							| CLASS. &nbsp;
							i.fa(ng-show="ctrl.grid.propertyName === 'product_classification'" ng-class="!ctrl.grid.reverse ? 'fa-sort-amount-asc' : 'fa-sort-amount-desc'")
						th(ng-click="ctrl.sortBy('product_name')")
							| NOME &nbsp;
							i.fa(ng-show="ctrl.grid.propertyName === 'product_name'" ng-class="!ctrl.grid.reverse ? 'fa-sort-amount-asc' : 'fa-sort-amount-desc'")
						th(ng-click="ctrl.sortBy('product_prices[0].price_value')")
							| PREÇO &nbsp;
							i.fa(ng-show="ctrl.grid.propertyName === 'product_prices[0].price_value'" ng-class="!ctrl.grid.reverse ? 'fa-sort-amount-asc' : 'fa-sort-amount-desc'")
						th(ng-click="ctrl.sortBy('stock.product_stock')")
							| ESTOQUE &nbsp;
							i.fa(ng-show="ctrl.grid.propertyName === 'stock.product_stock'" ng-class="!ctrl.grid.reverse ? 'fa-sort-amount-asc' : 'fa-sort-amount-desc'")
		.container-table(flex)
			table.product-table.table
				tbody
					tr(ng-repeat='p in ctrl.result | orderBy:ctrl.grid.propertyName:ctrl.grid.reverse' layout='row' ng-dblclick='ctrl.get(p)' ng-class="{'inactive':p.product_active=='N'}")
						td {{p.product_code}}
						td {{p.product_classification}}
						td {{p.product_name}}
						td {{p.product_prices[0].price_value | currency: 'R$ '}}
						td {{p.unit && p.unit.unit_format == "I" ? (p.stock.product_stock | number:'0') : p.stock.product_stock}} ({{p.unit.unit_initials}}) 

	div(layout='column')
		.bar
			md-toolbar
				.md-toolbar-tools(layout='row')
					i.fa.fa-2x.fa-cubes &nbsp;
					p(flex) {{ctrl.result.length > 0 ? ctrl.result.length : 'Nenhum' }} Produto{{ctrl.result.length > 1 ? 's' : '' }} Localizado
					.legend.pull-right
						i.fa.fa-stop
						| Inativo

.footer(layout='row' layout-align='end center')
	md-button.md-primary.md-raised(ng-click='ctrl._cancel()')
		| &nbsp; Fechar &nbsp;