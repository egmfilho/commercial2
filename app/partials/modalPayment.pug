.body(layout='column' layout-fill style='min-width: 450px')
	div(layout='row')
		md-input-container(flex='55')
			label Modalidade
			md-select(ng-model='ctrl.modality'
					data-md-container-class='query-select-container'
					ng-model-options='{ trackBy: "$value.modality_id" }')
				md-select-header.select-header
					input.md-text(ng-model='ctrl.queryModality' 
							type='search' placeholder='Buscar modalidade'
							ng-keydown="ctrl.updateSearch($event)")
				md-opt-group(label='Modalidades')
					md-option(ng-value='m' 
							ng-repeat='m in ctrl.queryResult track by m.modality_id' 
							ng-click='ctrl.getModalityById(m.modality_id)')
						| {{m.modality_code}} - {{m.modality_description}}

		div(flex='45' layout='row')
			md-input-container(flex)
				label Vencimento
				md-datepicker(ng-model='ctrl.payment.order_payment_deadline' md-hide-icons='all' md-is-open='ctrl.isCalendarOpen' md-min-date='ctrl.minDate')

			div(flex='25')
				md-button.md-icon-button.md-raised.md-primary(ng-click='ctrl.isCalendarOpen = true')
					md-icon(md-font-icon='fa fa-calendar')

	div(layout='row')
		md-input-container(flex='35')
			label Parcelas
			md-select(name='type' ng-model='ctrl.payment.order_payment_installment')
				md-option(ng-value='i.modality_item_installment' ng-repeat='i in ctrl.payment.modality.modality_item' ng-click='ctrl.setDeadline(i.modality_item_delay)') 
					| {{i.modality_item_installment}}x ({{ctrl.payment.order_payment_value / i.modality_item_installment | currency:'R$ '}})

		md-input-container(flex='20')
			label Valor
			input(ng-model='ctrl.payment.order_payment_value' ng-change='ctrl.payment.setValue()' currency='"R$ "')

		span(flex)
		md-input-container
			md-switch(name='initial' style='margin: 0' ng-true-value='"Y"' ng-false-value='"N"'
					ng-model='ctrl.payment.order_payment_initial')
				| Parcela de entrada
	
.footer(layout='row' layout-align='end center')
	md-button.md-primary(name='positive' ng-click='ctrl._close(ctrl.payment)' ng-disabled='!ctrl.payment.modality_id')
		| &nbsp; Confirmar &nbsp;

	md-button.md-primary(name='positive' ng-click='ctrl._cancel()')
		| &nbsp; Fechar &nbsp;